<!DOCTYPE html>
<html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Weather Station</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="js/helper.js"></script>
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/highcharts-more.js"></script>
    <!-- <script src="my_jquery_functions.js"></script> -->
</head>

<body>
    <div class="container-fluid">
        <div id="header" class="row clearfix">
            <div id="title" class="col-md-4 text-uppercase"><h1>Weather Station</h1></div>
            <div id="error_display" title="Error Message" class="col-sm-4 header"></div>  
            <div id="blank" class="col-sm-2 hidden-xs header"></div>            
            <div id="update_time" title="Last update" class="col-sm-2 date header"></div>
        </div>

        <div id="main-display" class="row text-center">
        	<div id="sidebar" class="col-sm-2 sidebar"></div>
            <div id="main" class="col-sm-10">
            	<nav class="navbar navbar-default">
					<div class="container-fluid">
				    	<div class="navbar-header hidden-xs hidden-sm">
				      		<a class="navbar-brand">Plots</a>
				    	</div>
				    	<div>
					      	<ul class="nav navbar-nav hidden-xs hidden-sm">
						        <li><a href="#" id="1d" onclick="displayCharts('1d')">24 hours</a></li>
						        <li><a href="#" id="2d" onclick="displayCharts('2d')">48 hours</a></li>
						        <li><a href="#" id="1w" onclick="displayCharts('1w')">1 week</a></li>
						        <li><a href="#" id="1m" onclick="displayCharts('1m')">1 month</a></li>
						        <li><a href="#" id="3m" onclick="displayCharts('3m')">3 months</a></li>
						        <li><a href="#" id="1y" onclick="displayCharts('1y')">1 year</a></li>
					      	</ul>
					      	<ul class="nav navbar-nav hidden-xs hidden-md hidden-lg">
						      	<li class="dropdown">
							        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Plots <span class="caret"></span></a>
							        <ul class="dropdown-menu">
							        	<li class="active"><a href="#">3 hours</a></li>
								        <li><a href="#" onclick="bob()">24 hours</a></li>
								        <li><a href="#">48 hours</a></li>
								        <li><a href="#">1 week</a></li>
								        <li><a href="#">1 month</a></li> 
								        <li><a href="#">3 months</a></li>
								        <li><a href="#">1 year</a></li> 
							        </ul>
							    </li>
							 </ul>
					      	<ul class="nav navbar-nav navbar-right">
						        <li><a href="https://thingspeak.com/channels/39722/private_show">ThingSpeak</a></li>
						        <li class="dropdown">
						          	<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
						          		<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
						          		<span class="caret"></span>
						          	</a>
						          	<ul class="dropdown-menu">
							            <li><a href="#" data-toggle="modal" data-target="#modal_logs">View Logs</a></li>
							            <li><a href="#" data-toggle="modal" data-target="#modal_errors">Errors</a></li>
							            <li role="separator" class="divider"></li>
							            <li><a href="#" data-toggle="modal" data-target="#modal_settings">Settings</a></li>
						          	</ul>
						        </li>
						     </ul>
				    	</div>
				  	</div>
				</nav>
				<div id="graph-container"></div>
            </div>
        </div> <!-- main-display -->

	    <div id="modal_logs" class="modal fade" role="dialog">
	        <div class="modal-dialog-lg">
	            <div class="modal-content">
	                <div class="modal-header">
	                    <h4 class="modal-title" id="log_file_modal">Log Files</h4>
	                </div>
	                <div class="modal-body">
	                	<div class="row">
							<div id="log_modal_col_1" class="col-md-6"></div>
							<div id="log_modal_col_2" class="col-md-6"></div>
						</div>
	                </div>
	                <div class="modal-footer">
	                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	                </div>
	            </div>
	        </div>
	    </div> <!-- modal_logs -->

	    <div id="modal_settings" class="modal fade" role="dialog">
	        <div class="modal-dialog">
	            <div class="modal-content">
	                <div class="modal-header">
	                    <h4 class="modal-title" id="settings_file_modal">Settings Files</h4>
	                </div>
	                <div id="settingsForm" class="modal-body">
	                	<h5>HEATER</h5>
	                	<div class="input-group">
	                		<div id="checkbox">
								<input id="heater-enable" type="checkbox"> Enable Heater
							</div>
						</div>	
	                	<div class="row">
							<div id="on_temp" class="col-md-6">
			                	<div class="input-group">
									<span class="input-group-addon" id="basic-addon1">ON temperature</span>
								  	<input id="heater-on-temp" name="heater-on-temp" type="text" class="form-control" aria-describedby="basic-addon1">
									<span class="input-group-addon">°C</span>
								</div>
							</div>
							<div id="hyst_temp" class="col-md-6">
								<div class="input-group">
									<span class="input-group-addon" id="basic-addon2">Hysterisis ±</span>
								  	<input id="heater-on-hyst" name="heater-on-hyst" type="text" class="form-control" aria-describedby="basic-addon2">
									<span class="input-group-addon">°C</span>
								</div>
							</div>
						</div> <!-- row -->
	                	<div class="input-group">
							<span class="input-group-addon" id="basic-addon3">Miplug Sensor Id</span>
						  	<input id="miplug-id" name="miplug-id" type="text" class="form-control" aria-describedby="basic-addon3">
						</div>
						<h5>RAIN GAUGE</h5>
						<div class="input-group">
							<span class="input-group-addon" id="basic-addon4">Tick Measurement</span>
						  	<input id="rain-gauge" name="rain-gauge" type="text" class="form-control" aria-describedby="basic-addon4">
						  	<span class="input-group-addon">mm per tick</span>
						</div>
						<h5>THINGSPEAK</h5>
						<div class="input-group">
							<span class="input-group-addon" id="basic-addon5">Host Address</span>
						  	<input id="ts-host-addr" name="ts-host-addr" name="ts-host-addr" type="text" class="form-control" aria-describedby="basic-addon5">
						</div>
						<div class="input-group">
							<span class="input-group-addon" id="basic-addon6">API Key</span>
						  	<input id="ts-api-key" name="ts-api-key" type="text" class="form-control" aria-describedby="basic-addon6">
						</div>
						<div class="input-group">
							<span class="input-group-addon" id="basic-addon7">Channel ID</span>
						  	<input id="ts-ch-id" name="ts-ch-id" type="text" class="form-control" aria-describedby="basic-addon7">
						</div>
						<h5>MAKER CHANNEL</h5>
						<div class="input-group">
							<span class="input-group-addon" id="basic-addon8">POST Address</span>
						  	<input id="mk-addr" name="mk-addr" type="text" class="form-control" aria-describedby="basic-addon8">
						</div>
						<div class="input-group">
							<span class="input-group-addon" id="basic-addon9">Key</span>
						  	<input id="mk-key" name="mk-key" type="text" class="form-control" aria-describedby="basic-addon9">
						</div>
	                </div> <!-- modal-body -->
	                <div class="modal-footer">
	                    <button type="button" class="btn btn-default" onclick="saveSettings()">Save</button>
	                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	                </div>
	            </div>
	        </div>
	    </div> <!-- modal_settings -->

	    <div id="modal_errors" class="modal fade" role="dialog">
	        <div class="modal-dialog modal-lg">
	            <div class="modal-content">
	                <div class="modal-header">
	                    <h4 class="modal-title" id="log_file_modal">Errors</h4>
	                </div>
	                <div class="modal-body">
	                	<table class="table">
					  		<thead>
						      	<tr>
							        <th>Date</th>
							        <th>No.</th>
							        <th>Message</th>
							        <th>Notified</th>
							        <th>Count</th>
						      	</tr>
						    </thead>
						    <tbody id="error_table"></tbody>
					  	</table>
	                </div>
	                <div class="modal-footer">
	                	<button type="button" class="btn btn-default" onclick="clearErrors()">Clear Errors</button>
	                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	                </div>
	            </div>
	        </div>
	    </div> <!-- modal_errors -->
    </div>

    <script src="js/charts_update.js"></script>
    <script src="js/log.js"></script>
    <script src="js/config_data.js"></script>
    <script src="js/error_msg.js"></script>

</body>
</html>  
